"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const jwt = require('koa-jwt');
class DingConfig {
    constructor() {
        this.openDingUrl = 'https://oapi.dingtalk.com';
    }
    /**
     * 初始化..
     * @param app
     * @param p
     * @param jwtUnless
     */
    init(app, p, jwtUnless) {
        this.corpId = p.corpId;
        this.corpsecret = p.corpsecret;
        this.noncestr = p.noncestr;
        this.agentId = p.agentId;
        this.domain = p.domain;
        this.expiresIn = p.expiresIn;
        app.use(jwt({ secret: dingConfig.noncestr, passthrough: false }).unless({
            path: jwtUnless
        }));
    }
}
exports.DingConfig = DingConfig;
let dingConfig = new DingConfig();
exports.default = dingConfig;
